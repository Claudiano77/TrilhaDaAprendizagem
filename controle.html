<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estruturas de Controle - Trilha Da Aprendizagem</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="app" class="gradient-bg min-h-screen p-6"></div>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState } = React;

    function ControlModule() {
      const [stage, setStage] = useState('intro');
      const [answer, setAnswer] = useState('');

      const checkAnswer = () => {
        if (answer === 'Chovendo', 'chovendo') {
          setStage('success');
          const completed = JSON.parse(localStorage.getItem('completed-modules') || '[]');
          if (!completed.includes('control')) {
            completed.push('control');
            localStorage.setItem('completed-modules', JSON.stringify(completed));
          }
        } else {
          alert('âŒ Tente novamente! Pense no que acontece SE estiver chovendo.');
        }
      };

      if (stage === 'intro') {
        return (
          <div className="max-w-3xl mx-auto card-glass rounded-3xl p-8 mt-12">
            <button onClick={() => window.location.href = 'menu.html'} className="mb-6 text-purple-200 hover:text-white">â† Voltar</button>
            <div className="text-center mb-8">
              <div className="text-6xl mb-4">ğŸ”€</div>
              <h2 className="text-4xl font-bold text-white mb-4">Estruturas de Controle: A Encruzilhada</h2>
            </div>
            <div className="text-purple-100 space-y-4 mb-8">
              <p className="text-lg"><strong className="text-cyan-400">O que sÃ£o estruturas de controle?</strong></p>
              <p>Imagine que vocÃª estÃ¡ indo para a escola. Mas aÃ­ vocÃª olha pela janela... ğŸŒ§ï¸</p>
              <p><strong>SE</strong> estiver chovendo â†’ VocÃª pega o guarda-chuva â˜‚ï¸<br />
                <strong>SENÃƒO</strong> â†’ VocÃª sai sem o guarda-chuva â˜€ï¸</p>
              <p>Isso Ã© uma <strong className="text-yellow-400">estrutura de controle</strong>! O programa toma decisÃµes baseadas em condiÃ§Ãµes.</p>
              <div className="code-block">
                SE (estÃ¡ chovendo) {'{'}
                <br />&nbsp;&nbsp;pegar guarda-chuva
                <br />{'}'} SENÃƒO {'{'}
                <br />&nbsp;&nbsp;sair sem guarda-chuva
                <br />{'}'}
              </div>
            </div>
            <button onClick={() => setStage('challenge')} className="btn-primary text-white w-full py-4 text-lg rounded-xl font-bold">
              Aceitar Desafio ğŸš€
            </button>
          </div>
        );
      }

      if (stage === 'challenge') {
        return (
          <div className="max-w-4xl mx-auto card-glass rounded-3xl p-8 mt-12">
            <button onClick={() => window.location.href = 'menu.html'} className="mb-6 text-purple-200 hover:text-white">â† Voltar</button>
            <div className="text-center mb-8">
              <div className="text-5xl mb-3">ğŸ¤”</div>
              <h2 className="text-3xl font-bold text-white mb-2">Complete a CondiÃ§Ã£o</h2>
            </div>
            <div className="bg-white/10 rounded-xl p-6 mb-6">
              <p className="text-purple-200 mb-4 text-lg">CÃ³digo:</p>
              <div className="code-block text-lg">
                SE (estÃ¡ <input
                  type="text"
                  value={answer}
                  onChange={(e) => setAnswer(e.target.value)}
                  className="bg-yellow-400 text-black px-3 py-1 rounded mx-2 w-32"
                  placeholder="____"
                />) {'{'}
                <br />&nbsp;&nbsp;levar guarda-chuva = true
                <br />{'}'} SENÃƒO {'{'}
                <br />&nbsp;&nbsp;levar guarda-chuva = false
                <br />{'}'}
              </div>
              <p className="text-purple-300 mt-4">ğŸ’¡ Dica: Quando vocÃª leva guarda-chuva?</p>
            </div>
            <button onClick={checkAnswer} className="btn-primary text-white w-full py-4 rounded-xl font-semibold">
              âœ… Verificar
            </button>
          </div>
        );
      }

      return (
        <div className="max-w-2xl mx-auto card-glass rounded-3xl p-8 mt-12 text-center">
          <div className="text-8xl mb-6 animate-bounce">ğŸ‰</div>
          <h2 className="text-4xl font-bold text-white mb-4">MissÃ£o ConcluÃ­da!</h2>
          <p className="text-xl text-purple-200 mb-8">VocÃª dominou as estruturas de controle! ğŸ”€</p>
          <div className="bg-white/10 rounded-lg p-6 mb-8 text-left">
            <h3 className="text-2xl font-bold text-cyan-400 mb-4 text-center">ğŸ“š Aprendizado:</h3>
            <ul className="text-purple-100 space-y-3">
              <li>âœ“ SE/SENÃƒO ajudam o programa a tomar decisÃµes</li>
              <li>âœ“ CondiÃ§Ãµes sÃ£o perguntas verdadeiras ou falsas</li>
              <li>âœ“ O cÃ³digo executa diferentes aÃ§Ãµes baseado na resposta</li>
            </ul>
          </div>
          <button onClick={() => window.location.href = 'menu.html'} className="btn-primary text-white px-8 py-4 rounded-xl font-bold">
            Voltar ao Mapa ğŸ—ºï¸
          </button>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('app')).render(<ControlModule />);
  </script>
</body>

</html>